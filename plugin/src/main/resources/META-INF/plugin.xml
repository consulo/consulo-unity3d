<!--
  - Copyright 2013-2016 consulo.io
  -
  - Licensed under the Apache License, Version 2.0 (the "License");
  - you may not use this file except in compliance with the License.
  - You may obtain a copy of the License at
  -
  - http://www.apache.org/licenses/LICENSE-2.0
  -
  - Unless required by applicable law or agreed to in writing, software
  - distributed under the License is distributed on an "AS IS" BASIS,
  - WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  - See the License for the specific language governing permissions and
  - limitations under the License.
  -->

<consulo-plugin url="https://github.com/consulo/consulo-unity3d">
	<id>consulo.unity3d</id>
	<name>Unity3D</name>
	<vendor>consulo.io</vendor>
	<version>SNAPSHOT</version>
	<category>Game Frameworks</category>
	<tags>
		<tag>game.framework</tag>
	</tags>
	<localize>consulo.unity3d.Unity3dLocalize</localize>

	<depends>consulo.dotnet.mono</depends>
	<depends>consulo.csharp</depends>
	<depends>consulo.javascript</depends>
	<depends>consulo.nunit</depends>
	<depends>org.jetbrains.plugins.yaml</depends>

	<depends config-file="com.intellij.xml.xml" optional="true">com.intellij.xml</depends>
	<depends config-file="consulo.css.xml" optional="true">consulo.css</depends>

	<import path="/META-INF/SharderLab.xml"/>

	<import path="/META-INF/CGShader.xml"/>

	<actions>
		<group id="Unity3dProjectGroup">
			<separator/>
			<action id="SyncUnity3dProject" class="consulo.unity3d.action.SyncUnity3dProjectAction"/>
			<add-to-group anchor="last" group-id="ProjectViewPopupMenuSettingsGroup"/>
		</group>
	</actions>


	<extensions defaultExtensionNs="com.intellij">
		<codeInsight.lineMarkerProvider language="C#"
										implementationClass="consulo.unity3d.csharp.codeInsight.UnityEventCSharpMethodLineMarkerProvider"/>
		<codeInsight.lineMarkerProvider language="C#"
										implementationClass="consulo.unity3d.csharp.codeInsight.UnitySceneCSharpTypeLineMarkerProvider"/>
		<localInspection
				enabledByDefault="true"
				level="WARNING"
				language="C#"
				groupPath="C#"
				groupName="Unity"
				displayName="Creation MonoBehaviour object via new expression"
				implementationClass="consulo.unity3d.csharp.codeInsight.inspection.UnityNewMonoBehaviourInspection"/>

		<localInspection
				enabledByDefault="true"
				level="WARNING"
				language="C#"
				groupPath="C#"
				groupName="Unity"
				displayName="Empty magic methods"
				implementationClass="consulo.unity3d.csharp.codeInsight.inspection.UnityEmptyMagicMethodInspection"/>
		<localInspection
				enabledByDefault="true"
				level="WARNING"
				language="C#"
				groupPath="C#"
				groupName="Unity"
				displayName="OnGUI magic method"
				implementationClass="consulo.unity3d.csharp.codeInsight.inspection.UnityOnGUIMethodInspection"/>
		<localInspection
				enabledByDefault="true"
				level="WARNING"
				language="C#"
				groupPath="C#"
				groupName="Unity"
				displayName="GameObject.tag equality warning"
				implementationClass="consulo.unity3d.csharp.codeInsight.inspection.UnityCompareTagInspection"/>



		<treeStructureProvider implementation="consulo.unity3d.ide.projectView.Unity3dMetaFileProjectViewProvider"/>
		<projectViewOptionProvider implementation="consulo.unity3d.ide.projectView.Unity3dShowMetaFileProjectViewPaneOptionProvider"/>
		<projectViewNodeDecorator implementation="consulo.unity3d.ide.projectView.Unity3dProjectViewNodeDecorator"/>
		<createFromTemplateActionModuleResolver implementation="consulo.unity3d.projectImport.Unity3dModuleResolver"/>
		<fileTypeDetector implementation="consulo.unity3d.scene.Unity3dAssetFileTypeDetector"/>
		<fileBasedIndex implementation="consulo.unity3d.scene.index.Unity3dYMLAssetIndexExtension"/>
		<fileBasedIndex implementation="consulo.unity3d.scene.index.Unity3dMetaIndexExtension"/>
		<projectService serviceImplementation="consulo.unity3d.scene.Unity3dMetaManager"/>
		<psi.referenceContributor language="yaml" implementation="consulo.unity3d.scene.reference.Unity3dSceneFieldReferenceRegister"/>

		<lang.documentationProvider language="C#" implementationClass="consulo.unity3d.documentation.UnityExternalDocumentationProvider"/>


		<psi.referenceContributor language="C#" implementation="consulo.unity3d.csharp.psi.reference.Unity3dEventMethodReferenceProvider"/>

		<applicationService serviceImplementation="consulo.unity3d.packages.Unity3dPackageWatcher" lazy="false"/>
		<applicationService serviceImplementation="consulo.unity3d.Unity3dLocalFileSystemComponent" lazy="false"/>
		<applicationService serviceImplementation="consulo.unity3d.console.Unity3dConsoleManager" lazy="false"/>

		<orderEntryType implementation="consulo.unity3d.packages.orderEntry.Unity3dPackageOrderEntryType"/>
		<orderEntryTypeEditor key="unity-package" implementationClass="consulo.unity3d.packages.orderEntry.Unity3dPackageOrderEntryTypeEditor"/>

		<projectService serviceImplementation="consulo.unity3d.projectImport.change.Unity3dProjectChangeListener" lazy="false"/>

		<xdebugger.attachDebuggerProvider implementation="consulo.unity3d.run.debugger.attach.UnityAttachDebuggerProvider"/>


	</extensions>
</consulo-plugin>